(this["webpackJsonpmax-orkester"]=this["webpackJsonpmax-orkester"]||[]).push([[0],[,,,,,,,,function(e,n,t){e.exports=t(19)},,,,,function(e,n,t){},,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(4),o=t.n(c),i=(t(13),t(7)),u=t(5),s=t(1),l=t.n(s),f=t(2),p=t(6),m=(t(16),function(e){var n=e.sound,t=e.isPlaying,r=e.clickHandler;return a.a.createElement("div",{className:"Panel",onClick:r},a.a.createElement("div",{className:"picture"},a.a.createElement("img",{src:"/resources/".concat(n,".png"),alt:n})),a.a.createElement("figure",{className:"statusLight ".concat(t?"on":"off")}))}),d=(t(17),function(){return a.a.createElement("svg",{viewBox:"0 0 60 60"},a.a.createElement("polygon",{points:"10,0 25,0 25,60 10,60"}),a.a.createElement("polygon",{points:"35,0 50,0 50,60 35,60"}))}),g=function(){return a.a.createElement("svg",{viewBox:"0 0 60 60"},a.a.createElement("polygon",{points:"10,0 60,30 10,60"}))},v=function(e){var n=e.isPlaying,t=e.clickHandler;return a.a.createElement("div",{className:"PlayPause",onClick:t},n?a.a.createElement(d,null):a.a.createElement(g,null))};t(18);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(t,!0).forEach((function(n){Object(u.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=new AudioContext,w=["trommer","sang","gitar","dj","bass","ooh"],E=function(){var e=Object(f.a)(l.a.mark((function e(n){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/max-orkester","/resources/").concat(n,".mp3"));case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:return r=e.sent,e.next=8,h.decodeAudioData(r);case 8:return a=e.sent,e.abrupt("return",{name:n,audioBuffer:a});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(e){if(e.isPlaying)return e;var n=h.createBufferSource();return n.buffer=e.audioBuffer,n.loop=!0,n.connect(h.destination),n.start(),b({},e,{source:n,isPlaying:!0})},P=function(e){return e.source&&e.source.stop(),b({},e,{isPlaying:!1,source:void 0})},k=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Promise.all(w.map((function(e){return E(e)})));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){o()}),[]);var u=function(){return c(t.map((function(e){return P(e)})))},s=function(){return!!t.filter((function(e){return e.isPlaying})).length},d=function(){return s()?u():c(t.map((function(e){return O(e)})))};return Object(p.a)("keydown",(function(e){switch(e.code){case"Space":e.preventDefault(),d();break;case"Escape":u()}})),a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Max orkester"),a.a.createElement("div",{className:"panels"},t.map((function(e){return a.a.createElement(m,{key:e.name,sound:e.name,isPlaying:e.isPlaying,clickHandler:function(){return n=e,void c(t.map((function(e){return n.name===e.name?n.isPlaying?P(n):O(n):e})));var n}})}))),a.a.createElement(v,{isPlaying:s(),clickHandler:function(){return d()}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.fe7fd1a2.chunk.js.map